<configuration>

    <typeAliases>
        <typeAlias alias = "Shop" type = "src/main/java/org/amel/plare/shop/Shop"/>
    </typeAliases>

    <environments default = "default_environment _name">
        <environment id = "environment_id">
            <transactionManager type = "JDBC/MANAGED"/>

<!--    left on unpooled tentatively POOLED/JNDI possible-->
            <dataSource type = "UNPOOLED">
                <property name = "driver" value = "com.mysql.jdbc.Driver"/>
                <property name = "url" value = "jdbc:mysql://amel.kr:3306"/>
                <property name = "username" value = "plare"/>
                <property name = "password" value = "amel@plare2022sp"/>
            </dataSource>

        </environment>
    </environments>

    <mappers>
        <mapper resource = "src/main/resources/studentXml/studentConfig.xml"/>
    </mappers>

    <resultMap id = "result" type = "Shop">
        <result property = "id" column = "id"/>
        <result property = "uid" column = "unique_id"/>
        <result property = "item_type" column = "item_type"/>
        <result property = "item_name" column = "item_name"/>
        <result property = "item_count" column = "item_count"/>
        <result property = "item_cat" column = "item_cat"/>
        <result property = "item_img" column = "item_img"/>
        <result property = "item_dec" column = "item_dec"/>
    </resultMap>

    <select id = "getAll" resultMap = "menu">
        SELECT * FROM store_menu;
    </select>

    <select id = "getById" parameterType = "int" resultMap = "result">
        SELECT * FROM store_menu WHERE id = #{id};
    </select>

</configuration>